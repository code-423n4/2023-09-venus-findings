[L-01] - tokens with more than 18 decimals would not work correctly

[NC-01] - events for state changes should be emitted after the said state change

[NC-02] - redundant 'Market no supported' checks throughout function calls